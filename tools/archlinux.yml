image: archlinux
packages:
  - automake
  - autoconf
  - llvm
  - elfutils
  - check
sources:
  - https://git.sr.ht/~nickg/nvc
tasks:
  - setup: |
      uname -a
      cd nvc
      ./autogen.sh
      ./configure --enable-vhpi --enable-debug
  - build: |
      cd nvc
      make
  - test: |
      cd nvc
      make check
  - release: |
      cd nvc
      make distclean
      ./configure --enable-vhpi --disable-debug
      make
